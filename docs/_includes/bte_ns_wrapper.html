<!-- BTE-NS Simulator Interface -->
<div class="simulator-container" style="margin: 2rem 0;">
    
    <!-- Control Panel -->
    <div class="control-panel" style="background: #f5f5f5; padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem;">
        <h3 style="margin-top: 0;">Simulation Parameters</h3>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
            <div>
                <label for="solar-irradiance" style="display: block; margin-bottom: 0.5rem; font-weight: bold;">
                    Solar Irradiance (W/m²):
                </label>
                <input type="number" id="solar-irradiance" value="1000" min="0" max="1200" step="50" 
                       style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;">
            </div>
            
            <div>
                <label for="ambient-temperature" style="display: block; margin-bottom: 0.5rem; font-weight: bold;">
                    Ambient Temperature (K):
                </label>
                <input type="number" id="ambient-temperature" value="298.15" min="273" max="323" step="1" 
                       style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;">
            </div>
            
            <div>
                <label for="wind-speed" style="display: block; margin-bottom: 0.5rem; font-weight: bold;">
                    Wind Speed (m/s):
                </label>
                <input type="number" id="wind-speed" value="2.0" min="0" max="10" step="0.5" 
                       style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;">
            </div>
            
            <div>
                <label for="cell-efficiency" style="display: block; margin-bottom: 0.5rem; font-weight: bold;">
                    Cell Efficiency:
                </label>
                <input type="number" id="cell-efficiency" value="0.2" min="0.1" max="0.3" step="0.01" 
                       style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;">
            </div>
            
            <div>
                <label for="thermal-conductivity" style="display: block; margin-bottom: 0.5rem; font-weight: bold;">
                    Thermal Conductivity (W/m/K):
                </label>
                <input type="number" id="thermal-conductivity" value="200" min="100" max="400" step="10" 
                       style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;">
            </div>
            
            <div>
                <label for="absorptivity" style="display: block; margin-bottom: 0.5rem; font-weight: bold;">
                    Absorptivity:
                </label>
                <input type="number" id="absorptivity" value="0.9" min="0.5" max="1.0" step="0.05" 
                       style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;">
            </div>
            
            <div>
                <label for="emissivity" style="display: block; margin-bottom: 0.5rem; font-weight: bold;">
                    Emissivity:
                </label>
                <input type="number" id="emissivity" value="0.9" min="0.5" max="1.0" step="0.05" 
                       style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;">
            </div>
        </div>
        
        <!-- Fidelity Selection -->
        <div style="margin-top: 1.5rem;">
            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Fidelity Level:</label>
            <div style="display: flex; gap: 1rem;">
                <button class="fidelity-btn active" data-level="0" 
                        style="padding: 0.75rem 1.5rem; background: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;">
                    Low Fidelity
                </button>
                <button class="fidelity-btn" data-level="1" 
                        style="padding: 0.75rem 1.5rem; background: #ccc; color: #333; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;">
                    Medium Fidelity
                </button>
                <button class="fidelity-btn" data-level="2" 
                        style="padding: 0.75rem 1.5rem; background: #ccc; color: #333; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;">
                    High Fidelity
                </button>
            </div>
        </div>
        
        <!-- Run Button -->
        <div style="margin-top: 1.5rem;">
            <button id="run-simulation-btn" 
                    style="padding: 1rem 2rem; background: #667eea; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 1.1rem; font-weight: bold;">
                ▶️ Run Simulation
            </button>
            <span id="simulation-status" style="margin-left: 1rem; font-weight: bold;"></span>
        </div>
    </div>
    
    <!-- Results Panel -->
    <div class="results-panel" style="margin-top: 2rem;">
        <h3>Simulation Results</h3>
        
        <!-- Canvases -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
            <div>
                <h4>Temperature Field</h4>
                <canvas id="temperature-canvas" width="400" height="400" 
                        style="width: 100%; max-width: 400px; border: 1px solid #ccc; border-radius: 4px;"></canvas>
            </div>
            
            <div>
                <h4>Carrier Density</h4>
                <canvas id="power-canvas" width="400" height="400" 
                        style="width: 100%; max-width: 400px; border: 1px solid #ccc; border-radius: 4px;"></canvas>
            </div>
            
            <div>
                <h4>Velocity Field</h4>
                <canvas id="velocity-canvas" width="400" height="400" 
                        style="width: 100%; max-width: 400px; border: 1px solid #ccc; border-radius: 4px;"></canvas>
            </div>
        </div>
        
        <!-- Statistics -->
        <div style="background: #f9f9f9; padding: 1.5rem; border-radius: 8px;">
            <h4 style="margin-top: 0;">Statistics</h4>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                <div>
                    <strong>Max Temperature:</strong>
                    <span id="max-temp-value">--</span>
                </div>
                <div>
                    <strong>Min Temperature:</strong>
                    <span id="min-temp-value">--</span>
                </div>
                <div>
                    <strong>Avg Temperature:</strong>
                    <span id="avg-temp-value">--</span>
                </div>
                <div>
                    <strong>Total Power:</strong>
                    <span id="power-total-value">--</span>
                </div>
                <div>
                    <strong>Efficiency:</strong>
                    <span id="efficiency-value">--</span>
                </div>
                <div>
                    <strong>Current Density:</strong>
                    <span id="current-density-value">--</span>
                </div>
                <div>
                    <strong>Max Velocity:</strong>
                    <span id="velocity-max-value">--</span>
                </div>
                <div>
                    <strong>Fidelity Level:</strong>
                    <span id="fidelity-display">--</span>
                </div>
                <div>
                    <strong>Runtime:</strong>
                    <span id="runtime-display">--</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Fidelity button toggle script -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const fidelityButtons = document.querySelectorAll('.fidelity-btn');
    fidelityButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            // Remove active class from all buttons
            fidelityButtons.forEach(b => {
                b.classList.remove('active');
                b.style.background = '#ccc';
                b.style.color = '#333';
            });
            
            // Add active class to clicked button
            this.classList.add('active');
            const level = parseInt(this.dataset.level);
            const colors = ['#4CAF50', '#FF9800', '#F44336'];
            this.style.background = colors[level];
            this.style.color = 'white';
        });
    });
});
</script>
